import { Tabs, Alert } from '@aws-amplify/ui-react';
import { MAJOR_VERSIONS } from '@/data/frameworks';

export const latestVersion = MAJOR_VERSIONS['react'][0];
export const prevVersion = MAJOR_VERSIONS['react'][1];

  <Tabs.Container defaultValue={latestVersion}>
    <Tabs.List>
      <Tabs.Item value={latestVersion}>Version {latestVersion}</Tabs.Item>
      <Tabs.Item value={prevVersion}>Version {prevVersion}</Tabs.Item>
    </Tabs.List>
    <Tabs.Panel value={latestVersion}>
      In version {latestVersion}, `Auth` function calls are imported directly as shown below. 
      ```jsx{2}
      import { Amplify } from 'aws-amplify';
      import { signUp, SignUpInput } from 'aws-amplify/auth';
      import { Authenticator } from '@aws-amplify/ui-react';
      import '@aws-amplify/ui-react/styles.css';
      import awsExports from './aws-exports';
      Amplify.configure(awsExports);

      export default function AuthenticatorWithEmail() {
        const services = {
          async handleSignUp(input: SignUpInput) {
            // custom username and email
            const customUsername = input.username.toLowerCase();
            const customEmail = input.options?.userAttributes?.email.toLowerCase();
            return signUp({
              ...input,
              username: customUsername,
              options: {
                ...input.options,
                userAttributes: {
                  ...input.options?.userAttributes,
                  email: customEmail,
                },
              },
            });
          },
        };
        return (
          <Authenticator services={services} initialState="signUp">
            {({ signOut }) => <button onClick={signOut}>Sign out</button>}
          </Authenticator>
        );
      }
      ```
    </Tabs.Panel>
    <Tabs.Panel value={prevVersion}>
      <Alert role="none" variation="warning" heading="Sign Up Auto Sign In">
        If you're overriding `signUp` in **version {prevVersion} or earlier**, you must include the `autoSignIn` key and set `enabled` to true, as show in the example below.
      </Alert>
      In earlier versions, `Auth` function calls are imported from the `Auth` object.
    ```jsx{1,19}
    import { Amplify, Auth } from 'aws-amplify';
    import { Authenticator } from '@aws-amplify/ui-react';
    import '@aws-amplify/ui-react/styles.css';
    import awsExports from './aws-exports';
    Amplify.configure(awsExports);

    export default function AuthenticatorWithEmail() {
      const services = {
        async handleSignUp(formData) {
          let { username, password, attributes } = formData;
          // custom username and email
          username = username.toLowerCase();
          attributes.email = attributes.email.toLowerCase();
          return Auth.signUp({
            username,
            password,
            attributes,
            autoSignIn: {
              enabled: true,
            },
          });
        },
      };

      return (
        <Authenticator services={services} initialState="signUp">
          {({ signOut }) => <button onClick={signOut}>Sign out</button>}
        </Authenticator>
      );
    }
    ```
    </Tabs.Panel>
  </Tabs.Container>
