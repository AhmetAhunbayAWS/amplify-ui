```jsx
import { signUp } from 'aws-amplify/auth';

export default function AuthenticatorWithEmail() {
  const services = {
    async handleSignUp(input) {
      let { username, password, userAttributes } = formData;
      // custom username
      username = username.toLowerCase();
      userAttributes.email = userAttributes.email.toLowerCase();
      return signUp({
        username,
        password,
        options: {
          userAttributes,
          autoSignIn: true,
        },
      });
    },
  };

  return (
    <Authenticator services={services} initialState="signUp">
      {({ signOut }) => <button onClick={signOut}>Sign out</button>}
    </Authenticator>
  );
}
```
